:root {
    --board-bg: #c8e6c9;
    --cell-bg-1: #a5d6a7;
    --cell-bg-2: #81c784;
    --snake-head: #d32f2f;
    --snake-tail: #ffcdd2;
    --ladder-start: #388e3c;
    --ladder-end: #c8e6c9;
    --player1-color: #1e88e5;
    --player2-color: #fdd835;
    --player3-color: #e53935;
    --player4-color: #8e24aa;
}

body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 100vh;
    background-color: #333;
    margin: 0;
    padding: 20px;
    box-sizing: border-box;
    overflow: hidden; /* Prevent scrollbars from popups */
}

.container {
    position: relative;
    background-color: #fff;
    padding: 25px;
    border-radius: 10px;
    box-shadow: 0 5px 15px rgba(0,0,0,0.2);
    text-align: center;
}

/* --- Main Menu --- */
#main-menu h1 { margin-top: 0; }
.menu-options { margin: 20px 0; display: flex; flex-direction: column; gap: 15px; }
.option-group { display: flex; justify-content: space-between; align-items: center; }
select { padding: 5px; border-radius: 5px; border: 1px solid #ccc; }

/* --- Game Container --- */
#game-container { display: flex; flex-wrap: wrap; gap: 20px; max-width: 1000px; }
#game-board { display: grid; grid-template-columns: repeat(10, 1fr); width: 60vmin; height: 60vmin; max-width: 600px; max-height: 600px; border: 5px solid #4a4a4a; background-color: var(--board-bg); }
.cell { position: relative; display: flex; justify-content: center; align-items: center; font-size: 1.8vmin; font-weight: bold; border: 1px solid #757575; box-sizing: border-box; }
.cell:nth-child(odd) { background-color: var(--cell-bg-1); }
.cell:nth-child(even) { background-color: var(--cell-bg-2); }
.snake-head { background-color: var(--snake-head); }
.snake-tail { background-color: var(--snake-tail); }
.ladder-start { background-color: var(--ladder-start); }
.ladder-end { background-color: var(--ladder-end); }
.snake-head::before, .ladder-start::before { content: attr(data-goto); position: absolute; bottom: 2px; right: 3px; font-size: 1.5vmin; color: white; background: rgba(0,0,0,0.5); padding: 1px 3px; border-radius: 3px; }
.player-token { position: absolute; width: 30%; height: 30%; border-radius: 50%; border: 2px solid white; box-shadow: 0 2px 4px rgba(0,0,0,0.4); transition: all 0.25s ease-in-out; z-index: 10; }
.player-0 { background-color: var(--player1-color); top: 15%; left: 15%; }
.player-1 { background-color: var(--player2-color); top: 15%; right: 15%; }
.player-2 { background-color: var(--player3-color); bottom: 15%; left: 15%; }
.player-3 { background-color: var(--player4-color); bottom: 15%; right: 15%; }

/* --- Game Controls --- */
#game-controls { display: flex; flex-direction: column; justify-content: center; gap: 15px; width: 250px; }
#turn-info { font-size: 1.5em; font-weight: bold; padding: 10px; background: #f0f0f0; border-radius: 5px; }
#dice { font-size: 5em; height: 1em; position: relative; }
.dice-face { position: absolute; top: 0; left: 0; right: 0; bottom: 0; opacity: 0; transition: opacity 0.3s; }
.dice-face.active { opacity: 1; }
button { padding: 10px 15px; font-size: 1em; cursor: pointer; border-radius: 5px; border: none; color: white; background-color: #4CAF50; }
#roll-dice-btn { background-color: #2196F3; }
#roll-dice-btn:disabled { background-color: #9e9e9e; cursor: not-allowed; }
#message-log { height: 80px; overflow-y: auto; background: #eee; padding: 8px; border-radius: 5px; text-align: left; font-size: 0.9em; }

/* The Back to Menu button style */
#back-to-menu-btn { 
    background-color: #f44336; 
    margin-top: auto; 
}

/* --- Popups / Modals --- */
.popup-overlay {
    position: fixed;
    top: 0; left: 0;
    width: 100%; height: 100%;
    background-color: rgba(0, 0, 0, 0.6);
    display: flex;
    justify-content: center;
    align-items: center;
    z-index: 1000;
}
.popup-content { /* For Win Popup */
    background: white; padding: 30px 50px; border-radius: 15px; text-align: center;
    box-shadow: 0 5px 20px rgba(0,0,0,0.3); position: relative; z-index: 1001;
}
.popup-content h2 { margin-top: 0; font-size: 2.5em; color: #4CAF50; }
#play-again-btn { margin-top: 15px; font-size: 1.2em; }
#confetti-canvas { position: absolute; top: 0; left: 0; width: 100%; height: 100%; z-index: 1000; }

/* --- Icon Buttons (Settings & Home) --- */
.icon-btn {
    position: absolute;
    top: 10px; right: 10px;
    font-size: 1.8em;
    background: none; border: none;
    cursor: pointer; padding: 5px; line-height: 1;
}
/* Style for your custom Home button */
#home-btn {
    top: 15px; 
    left: 15px; /* Positioned in the top-left */
    right: auto;
    z-index: 20; /* Ensure it's above other elements */
}

/* --- Settings Modal --- */
.modal-content {
    background: white; padding: 25px 35px; border-radius: 15px;
    text-align: center; box-shadow: 0 5px 20px rgba(0,0,0,0.3);
    position: relative; width: 90%; max-width: 400px;
}
.close-btn {
    position: absolute; top: 5px; right: 10px;
    font-size: 1.5em; color: #aaa; background: none;
    border: none; cursor: pointer;
}
.modal-content h2 { margin-top: 0; margin-bottom: 25px; font-size: 2em; color: #333;}
.setting-item { display: flex; justify-content: space-between; align-items: center; font-size: 1.2em; margin-bottom: 20px; }

/* --- Toggle Switch Styling --- */
.switch { position: relative; display: inline-block; width: 60px; height: 34px; }
.switch input { opacity: 0; width: 0; height: 0; }
.slider { position: absolute; cursor: pointer; top: 0; left: 0; right: 0; bottom: 0; background-color: #ccc; transition: .4s; border-radius: 34px; }
.slider:before { position: absolute; content: ""; height: 26px; width: 26px; left: 4px; bottom: 4px; background-color: white; transition: .4s; border-radius: 50%; }
input:checked + .slider { background-color: #4CAF50; }
input:checked + .slider:before { transform: translateX(26px); }

/* --- Utility class --- */
.hidden { display: none !important; }