<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>Modern 2048</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- ... all your menu, game, and modal divs are unchanged ... -->
    <div id="main-menu">
        <h1 class="title">2048</h1>
        <div class="main-menu-buttons">
            <button id="play-btn" class="btn">Play</button>
            <button id="settings-btn" class="btn">Settings</button>
            <button id="home-btn" class="btn btn-secondary">Home</button>
        </div>
    </div>
    <div id="difficulty-menu" class="hidden">
        <h1 class="title">2048</h1>
        <p class="subtitle">Select a difficulty</p>
        <div class="difficulty-buttons">
            <button class="btn" data-size="4" data-win="2048">Easy (4x4)</button>
            <button class="btn" data-size="5" data-win="4096">Medium (5x5)</button>
            <button class="btn" data-size="6" data-win="8192">Hard (6x6)</button>
        </div>
        <button id="back-to-main-btn" class="btn btn-secondary">Back</button>
    </div>
    <div id="game-container" class="hidden">
        <div class="game-header">
            <h1 class="title">2048</h1>
            <div class="score-container"><div class="score-box"><span>SCORE</span><div id="score">0</div></div><div class="score-box"><span>BEST</span><div id="best-score">0</div></div></div>
        </div>
        <div class="game-controls"><button id="menu-btn" class="btn btn-small">Menu</button><button id="restart-btn" class="btn btn-small">New Game</button></div>
        <div id="game-board-container"><div id="game-board"></div></div>
        <p class="game-info">Use arrow keys or swipe to play!</p>
    </div>
    <div id="game-over-modal" class="hidden">
        <div class="modal-content">
            <h2 id="modal-title">Game Over!</h2><p>Final Score: <span id="final-score">0</span></p>
            <div class="modal-buttons"><button id="modal-restart-btn" class="btn">Play Again</button><button id="modal-menu-btn" class="btn">Back to Menu</button></div>
        </div>
    </div>
    <div id="settings-modal" class="hidden">
        <div class="modal-content">
            <h2>Settings</h2>
            <div class="setting-item"><label for="music-toggle">Background Music</label><label class="toggle-switch"><input type="checkbox" id="music-toggle"><span class="slider"></span></label></div>
            <div class="setting-item"><label for="sfx-toggle">Sound Effects</label><label class="toggle-switch"><input type="checkbox" id="sfx-toggle"><span class="slider"></span></label></div>
            <button id="close-settings-btn" class="btn">Close</button>
        </div>
    </div>
    <canvas id="confetti-canvas"></canvas>

    <!-- Audio Elements -->
    <audio id="bg-music" src="sounds/music.mp3" loop></audio>
    <audio id="move-sound" src="sounds/move.wav" preload="auto"></audio>
    <audio id="merge-sound" src="sounds/merge.wav" preload="auto"></audio>
    <audio id="win-sound" src="sounds/win.wav" preload="auto"></audio>
    <audio id="lose-sound" src="sounds/lose.wav" preload="auto"></audio>
    <audio id="ui-click-sound" src="sounds/click.wav" preload="auto"></audio> <!-- NEW -->

    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    <script src="script.js"></script>
</body>
</html>