<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pocket Classics</title>
    <style>
        /* CSS is identical to your other splash screen */
        @import url('https://fonts.googleapis.com/css2?family=Nunito:wght@700;900&display=swap');
        :root { --title-blue: #0000FF; --love-pink: #E0128A; }
        body { margin: 0; padding: 0; background-color: #ffffff; display: flex; justify-content: center; align-items: center; height: 100vh; overflow: hidden; font-family: 'Nunito', sans-serif; }
        .splash-screen { position: absolute; top: 0; left: 0; width: 100%; height: 100%; display: flex; flex-direction: column; justify-content: center; align-items: center; opacity: 0; transition: opacity 0.5s ease-in-out; pointer-events: none; }
        .splash-screen.active { opacity: 1; pointer-events: auto; }
        #developer-screen { background-color: #000000; }
        #game-screen { background-color: #ffffff; }
        .logo-image { max-width: 180px; width: 50%; height: auto; margin-bottom: 30px; }
        .splash-header { font-size: 2.5em; font-weight: 900; color: var(--title-blue); margin-bottom: 30px; }
        .loading-bar { width: 80%; max-width: 250px; height: 8px; background-color: #e0e0e0; border-radius: 4px; overflow: hidden; }
        .loading-progress { width: 0%; height: 100%; background-color: var(--title-blue); border-radius: 4px; transition: width 0.3s ease-out; }
        .loading-status { margin-top: 15px; color: #555; font-weight: 600; }
        footer { position: absolute; bottom: 25px; width: 100%; text-align: center; }
        .tagline { font-size: 1em; font-weight: 700; }
        #developer-screen .tagline { color: #E0128A; }
    </style>
</head>
<body>
    <div id="developer-screen" class="splash-screen">
        <img class="logo-image" src="developer-logo.png" alt="Developer Logo">
        <footer>
            <p class="tagline">Coded With Love</p>
        </footer>
    </div>
    <div id="game-screen" class="splash-screen">
        <h1 class="splash-header">Pocket Classics</h1>
        <img class="logo-image" src="logo.png" alt="Pocket Classics Logo">
        <div class="loading-bar">
            <div id="loading-progress" class="loading-progress"></div>
        </div>
        <div id="loading-status" class="loading-status">Checking files...</div>
    </div>
    <script>
        // This script uses manifest.json and will work on GitHub Pages
        document.addEventListener('DOMContentLoaded', () => {
            const developerScreen = document.getElementById('developer-screen');
            const gameScreen = document.getElementById('game-screen');
            const progressBar = document.getElementById('loading-progress');
            const loadingStatus = document.getElementById('loading-status');
            const DEVELOPER_SCREEN_DURATION = 2500;

            function redirectToHome() {
                loadingStatus.textContent = 'Ready!';
                setTimeout(() => { window.location.href = 'home/'; }, 500);
            }
            
            async function checkGameFiles() {
                try {
                    const response = await fetch('manifest.json');
                    if (!response.ok) throw new Error('Could not load manifest.json');
                    const data = await response.json();
                    const filesToCheck = data.critical_files;
                    const totalFiles = filesToCheck.length;
                    let filesChecked = 0;
                    const checkPromises = filesToCheck.map(fileUrl => 
                        fetch(fileUrl, { method: 'HEAD' })
                            .finally(() => {
                                filesChecked++;
                                const progress = (filesChecked / totalFiles) * 100;
                                progressBar.style.width = `${progress}%`;
                            })
                    );
                    await Promise.all(checkPromises);
                    redirectToHome();
                } catch (error) {
                    console.error("File check failed:", error);
                    loadingStatus.textContent = 'Error! Continuing anyway...';
                    progressBar.style.backgroundColor = '#e74c3c';
                    progressBar.style.width = '100%';
                    setTimeout(redirectToHome, 1500);
                }
            }
            
            function startSequence() {
                developerScreen.classList.add('active');
                setTimeout(() => {
                    developerScreen.classList.remove('active');
                    setTimeout(() => {
                        gameScreen.classList.add('active');
                        checkGameFiles();
                    }, 500);
                }, DEVELOPER_SCREEN_DURATION);
            }
            startSequence();
        });
    </script>
</body>
</html>